import{$ as ee,B as Q,D as f,E as S,F as T,G as P,H as m,I as C,J as A,K as Z,L as u,N as z,O as L,P as I,Q as O,R as y,S as K,V as J,Z as $,aa as N,b as B,ba as te,ca as ne,d as X,e as R,f as H,h as j,k as V,l as _,m as i,n as F,o as x,q as d,r as q,s,t as p,u as a,v as g,w as b,x as E,y as W,z as G}from"./chunk-LJVDOMI4.js";var ie=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=x({type:t,selectors:[["app-iucn"]],inputs:{category:"category"},decls:3,vars:4,consts:[[1,"iucnblock"],[1,"iucn"]],template:function(r,c){r&1&&(b(0,"div",0)(1,"span",1),m(2),E()()),r&2&&(P(u("iucn-",c.category)),i(2),C(c.category))},styles:[".iucnblock[_ngcontent-%COMP%]{top:.5rem;right:.5rem;border-radius:10rem;padding:0rem .4rem .2rem;display:inline-flex;justify-content:center;vertical-align:middle;background-color:#d1e744;height:.75rem;float:right}.iucn[_ngcontent-%COMP%]{font-size:.63rem;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.iucn-LC[_ngcontent-%COMP%]{background-color:#68bb53}.iucn-NT[_ngcontent-%COMP%]{background-color:#d1e744}.iucn-VU[_ngcontent-%COMP%]{background-color:#e5d42d}.iucn-EN[_ngcontent-%COMP%]{background-color:#e77b4d}.iucn-CR[_ngcontent-%COMP%]{background-color:#b61917}.iucn-EW[_ngcontent-%COMP%]{background-color:#542344}.iucn-EX[_ngcontent-%COMP%], .iucn-FO[_ngcontent-%COMP%]{background-color:#000}.iucn-DD[_ngcontent-%COMP%]{background-color:#595959}.iucn-CR[_ngcontent-%COMP%]   .iucn[_ngcontent-%COMP%], .iucn-EW[_ngcontent-%COMP%]   .iucn[_ngcontent-%COMP%], .iucn-EX[_ngcontent-%COMP%]   .iucn[_ngcontent-%COMP%], .iucn-FO[_ngcontent-%COMP%]   .iucn[_ngcontent-%COMP%], .iucn-DD[_ngcontent-%COMP%]   .iucn[_ngcontent-%COMP%]{color:#fff}"]});let e=t;return e})();function me(e,t){e&1&&G(0)}function de(e,t){if(e&1&&(p(0,"figure",7),g(1,"img",8),a()),e&2){let n=f();i(),T("extinct",n.speciesTree.category=="FO"||n.speciesTree.category=="EX"||n.speciesTree.category=="CR (PE)"),s("src",u("https://cdn.download.ams.birds.cornell.edu/api/v1/asset/",n.speciesTree.asset,"/160"),_)("alt",u("Picture of ",n.speciesTree.englishName))}}function fe(e,t){e&1&&G(0)}function ge(e,t){if(e&1&&(p(0,"figure",7),g(1,"img",8),a()),e&2){let n=f(2);i(),T("extinct",n.speciesTree.category=="FO"||n.speciesTree.category=="EX"||n.speciesTree.category=="CR (PE)"),s("src",u("/assets/pics/",n.speciesTree.picture),_)("alt",u("Picture of ",n.speciesTree.englishName))}}function ue(e,t){if(e&1&&(p(0,"figure",7),g(1,"img",9),a()),e&2){let n=f(2);i(),T("extinct",n.speciesTree.category=="FO"||n.speciesTree.category=="EX"||n.speciesTree.category=="CR (PE)"),s("alt",u("Picture of ",n.speciesTree.englishName," is not available"))}}function xe(e,t){if(e&1&&d(0,fe,1,0,"ng-container",5)(1,ge,2,6,"ng-template",null,2,I)(3,ue,2,4,"ng-template",null,3,I),e&2){let n=S(2),o=S(4),r=f();s("ngIf",r.speciesTree.picture)("ngIfThen",n)("ngIfElse",o)}}function Ce(e,t){if(e&1&&(p(0,"div")(1,"figure",7),g(2,"img",8),a()()),e&2){let n=f().$implicit;i(2),T("extinct",n.category=="FO"||n.category=="EX"||n.category=="CR (PE)"),s("src",u("https://cdn.download.ams.birds.cornell.edu/api/v1/asset/",n.asset,"/160"),_)("alt",u("Picture of ",n.englishName))}}function ye(e,t){if(e&1&&(p(0,"div"),d(1,Ce,3,6,"div",10),a()),e&2){let n=t.$implicit;i(),s("ngIf",n.asset)}}var oe=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=x({type:t,selectors:[["app-species-picture"]],inputs:{speciesTree:"speciesTree"},decls:7,vars:4,consts:[["asset",""],["noasset",""],["pic",""],["nopic",""],[1,"picturelist"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngFor","ngForOf"],[1,"imageblock"],["loading","lazy",3,"src","alt"],["src","data:image/png;base64, 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","loading","lazy",3,"alt"],[4,"ngIf"]],template:function(r,c){if(r&1&&(p(0,"div",4),d(1,me,1,0,"ng-container",5)(2,de,2,6,"ng-template",null,0,I)(4,xe,5,3,"ng-template",null,1,I)(6,ye,2,1,"div",6),a()),r&2){let v=S(3),M=S(5);i(),s("ngIf",c.speciesTree.asset)("ngIfThen",v)("ngIfElse",M),i(5),s("ngForOf",c.speciesTree.children)}},dependencies:[y,O],styles:[".imageblock[_ngcontent-%COMP%]{height:10rem;width:10rem;display:flex;align-items:center;justify-content:center}.imageblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:90%;max-width:90%;transform:scaleX(-1);margin:auto;transition:transform .1s;mix-blend-mode:multiply}.extinct[_ngcontent-%COMP%]{opacity:.5}.picturelist[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}"]});let e=t;return e})();var re=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=x({type:t,selectors:[["app-range"]],inputs:{speciesTree:"speciesTree"},decls:4,vars:2,consts:[[1,"rangeblock"],[1,"range"],[1,"rangetooltip",3,"innerHTML"]],template:function(r,c){r&1&&(b(0,"div",0)(1,"span",1),m(2),E(),W(3,"span",2),E()),r&2&&(i(2),C(c.speciesTree.rangeShort),i(),Q("innerHTML",c.speciesTree.rangeDescription,V))},styles:['.range[_ngcontent-%COMP%]{font-size:.63rem;font-weight:700}.rangeblock[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;border-radius:10rem;padding:0rem .1rem .2rem;display:inline-flex;font-size:.63rem;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;cursor:default}.rangeblock[_ngcontent-%COMP%]:hover   .rangetooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1}.rangeblock[_ngcontent-%COMP%]:hover   .rangetooltip[_ngcontent-%COMP%]:after{visibility:visible;opacity:1}.rangetooltip[_ngcontent-%COMP%]{visibility:hidden;position:absolute;bottom:100%;left:50%;margin-bottom:10px;padding:.75rem;width:15rem;transform:translate(-30%);background-color:#be363a;color:#fff;border-radius:8px;opacity:0;transition:opacity .2s ease-in-out,visibility .2s ease-in-out,transform .2s cubic-bezier(.71,1.7,.77,1.24);filter:drop-shadow(0 0 .5rem #BE363A);z-index:100;font-weight:600;font-size:.7rem}.rangetooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:30%;margin-bottom:-5px;transform:translate(-50%);border:10px solid #000;border-color:#BE363A transparent transparent transparent;visibility:hidden;opacity:0;transition:opacity .2s ease-in-out,visibility .2s ease-in-out,transform .2s cubic-bezier(.71,1.7,.77,1.24)}']});let e=t;return e})();var se=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=x({type:t,selectors:[["app-species-info"]],inputs:{info:"info"},decls:5,vars:1,consts:[[1,"infoblock"],[1,"info"],[1,"tooltip"]],template:function(r,c){r&1&&(b(0,"div",0)(1,"span",1),m(2,"i"),E(),b(3,"span",2),m(4),E()()),r&2&&(i(4),C(c.info))},styles:['.infoblock[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1}.infoblock[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]:after{visibility:visible;opacity:1;z-index:9999}.infoblock[_ngcontent-%COMP%]{position:absolute;bottom:.5rem;right:.5rem;border-radius:10rem;padding:0rem .1rem .2rem;display:inline-flex;justify-content:center;vertical-align:middle;background-color:#be363a;color:#fff;height:.75rem;width:.75rem;font-size:.63rem;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;cursor:default;white-space:pre-wrap}.tooltip[_ngcontent-%COMP%]{visibility:hidden;position:absolute;bottom:100%;left:50%;margin-bottom:10px;padding:.75rem;width:15rem;transform:translate(-30%);background-color:#be363a;color:#fff;border-radius:8px;opacity:0;transition:opacity .2s ease-in-out,visibility .2s ease-in-out,transform .2s cubic-bezier(.71,1.7,.77,1.24);filter:drop-shadow(0 0 .5rem #BE363A);z-index:100;font-weight:600;font-size:.7rem}.tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:30%;margin-bottom:-5px;transform:translate(-50%);border:10px solid #000;border-color:#BE363A transparent transparent transparent;visibility:hidden;opacity:0;transition:opacity .2s ease-in-out,visibility .2s ease-in-out,transform .2s cubic-bezier(.71,1.7,.77,1.24)}']});let e=t;return e})();function ve(e,t){if(e&1&&g(0,"app-species-info",10),e&2){let n=f();s("info",n.speciesTree.notes)}}var ce=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=x({type:t,selectors:[["app-speciesblock"]],inputs:{speciesTree:"speciesTree"},decls:13,vars:8,consts:[[1,"speciesblock"],[1,"speciesheader"],[3,"speciesTree"],[3,"category"],[1,"speciesbody"],["target","_blank",3,"href"],[1,"speciesfooter"],[1,"english"],[1,"latin"],[3,"info",4,"ngIf"],[3,"info"]],template:function(r,c){r&1&&(p(0,"div",0)(1,"header",1),g(2,"app-range",2)(3,"app-iucn",3),a(),p(4,"section",4)(5,"a",5),g(6,"app-species-picture",2),a()(),p(7,"footer",6)(8,"span",7),m(9),a(),p(10,"span",8),m(11),a(),d(12,ve,1,1,"app-species-info",9),a()()),r&2&&(i(2),s("speciesTree",c.speciesTree),i(),s("category",c.speciesTree.category),i(2),s("href",u("https://birdsoftheworld.org/bow/species/",c.speciesTree.ebirdCode),_),i(),s("speciesTree",c.speciesTree),i(3),C(c.speciesTree.englishName),i(2),C(c.speciesTree.name),i(),s("ngIf",c.speciesTree.notes!==""))},dependencies:[y,ie,oe,re,se],styles:[".speciesblock[_ngcontent-%COMP%]{box-shadow:4px 4px 8px #0003;display:flex;flex-direction:column;justify-content:space-between;padding:.5rem;margin:.5rem;min-width:13rem;height:13rem;transition:transform .1s;background-color:#fff;position:relative;border-style:solid;border-color:#fff;border-width:1px}.species[_ngcontent-%COMP%]:hover{box-shadow:4px 4px 12px #0006}.speciesfooter[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;text-rendering:optimizeLegibility;overflow-wrap:break-word;display:flex;flex-direction:column}.english[_ngcontent-%COMP%]{font-size:.88rem;font-weight:700}.latin[_ngcontent-%COMP%]{color:#646464;font-size:.75rem;font-style:italic}.speciesbody[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}"]});let e=t;return e})();function _e(e,t){if(e&1&&(p(0,"span",4),m(1),a()),e&2){let n=f();i(),A("",n.speciesTree.countExtant," sp.")}}function he(e,t){if(e&1&&(p(0,"span",5),m(1),a()),e&2){let n=f();i(),A("\u2020 ",n.speciesTree.countExtinct," sp.")}}function Ee(e,t){if(e&1&&(p(0,"span",6),m(1),a()),e&2){let n=f();i(),A("\u2020\u2020 ",n.speciesTree.countFossil," sp.")}}var D=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=x({type:t,selectors:[["app-count"]],inputs:{speciesTree:"speciesTree"},decls:4,vars:3,consts:[[1,"count"],["class","countExtant",4,"ngIf"],["class","countExtinct",4,"ngIf"],["class","countFossil",4,"ngIf"],[1,"countExtant"],[1,"countExtinct"],[1,"countFossil"]],template:function(r,c){r&1&&(p(0,"span",0),d(1,_e,2,1,"span",1)(2,he,2,1,"span",2)(3,Ee,2,1,"span",3),a()),r&2&&(i(),s("ngIf",c.speciesTree.countExtant>0),i(),s("ngIf",c.speciesTree.countExtinct>0),i(),s("ngIf",c.speciesTree.countFossil>0))},dependencies:[y],styles:[".count[_ngcontent-%COMP%]{float:right}.countExtant[_ngcontent-%COMP%], .countExtinct[_ngcontent-%COMP%], .countFossil[_ngcontent-%COMP%]{padding-left:.5rem}"]});let e=t;return e})();function Te(e,t){e&1&&(p(0,"span",7),m(1,"\u2020"),a())}function be(e,t){if(e&1&&(p(0,"div",8),g(1,"app-speciesblock",4),a()),e&2){let n=t.$implicit;i(),s("speciesTree",n)}}var ae=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=x({type:t,selectors:[["app-genusblock"]],inputs:{speciesTree:"speciesTree"},decls:8,vars:4,consts:[[1,"genusblock"],[1,"genusheader"],["class","extinct",4,"ngIf"],[1,"genus"],[3,"speciesTree"],[1,"specieslist"],["class","speciescontainer",4,"ngFor","ngForOf"],[1,"extinct"],[1,"speciescontainer"]],template:function(r,c){r&1&&(p(0,"section",0)(1,"header",1),d(2,Te,2,0,"span",2),p(3,"span",3),m(4),a(),g(5,"app-count",4),a(),p(6,"section",5),d(7,be,2,1,"div",6),a()()),r&2&&(i(2),s("ngIf",c.speciesTree.category=="EX"||c.speciesTree.category=="FO"),i(2),C(c.speciesTree.name),i(),s("speciesTree",c.speciesTree),i(2),s("ngForOf",c.speciesTree.children))},dependencies:[ce,O,y,D],styles:[".genusblock[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:0;margin:0rem 1rem 1.5rem;background-color:#e2e4e2;box-shadow:0 2px 4px #0003}.genusheader[_ngcontent-%COMP%]{padding:.5rem .5rem 0;font-size:.88rem;font-weight:700}.specieslist[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin:0;padding:0;list-style-type:none}.extinct[_ngcontent-%COMP%]{padding-right:.1rem}"]});let e=t;return e})();function Ae(e,t){e&1&&(p(0,"span",12),m(1,"\u2020"),a())}function Me(e,t){if(e&1&&(p(0,"section",15),m(1),a()),e&2){let n=f(3);i(),A(" ",n.speciesTree.notes," ")}}function Pe(e,t){if(e&1&&(p(0,"figure",16),g(1,"img",17),a()),e&2){let n=f(3);i(),T("extinct",n.speciesTree.category=="FO"||n.speciesTree.category=="EX"||n.speciesTree.category=="CR (PE)"),s("src",u("https://cdn.download.ams.birds.cornell.edu/api/v1/asset/",n.speciesTree.asset,"/320"),_)("alt",u("Picture of ",n.speciesTree.englishName))}}function Oe(e,t){if(e&1&&(p(0,"figure",16),g(1,"img",17),a()),e&2){let n=f(3);i(),T("extinct",n.speciesTree.category=="FO"||n.speciesTree.category=="EX"||n.speciesTree.category=="CR (PE)"),s("src",u("/assets/pics/",n.speciesTree.picture),_)("alt",u("Picture of ",n.speciesTree.englishName))}}function Se(e,t){if(e&1&&(p(0,"section",13),d(1,Me,2,1,"section",8)(2,Pe,2,6,"figure",14)(3,Oe,2,6,"figure",14),a()),e&2){let n=f(2);i(),s("ngIf",n.speciesTree.notes),i(),s("ngIf",n.speciesTree.asset),i(),s("ngIf",n.speciesTree.picture)}}function Ie(e,t){if(e&1&&(p(0,"section",15),m(1),a()),e&2){let n=f(2);i(),A(" ",n.speciesTree.notes," ")}}function ke(e,t){if(e&1&&(p(0,"div"),g(1,"app-genusblock",6),a()),e&2){let n=f().$implicit;i(),s("speciesTree",n)}}function we(e,t){if(e&1&&(p(0,"div"),d(1,ke,2,1,"div",1),a()),e&2){let n=t.$implicit;i(),s("ngIf",n.rank=="genus")}}function Fe(e,t){if(e&1&&(p(0,"div"),g(1,"app-speciestree",6),a()),e&2){let n=f().$implicit;i(),s("speciesTree",n)}}function Ne(e,t){if(e&1&&(p(0,"div"),d(1,Fe,2,1,"div",1),a()),e&2){let n=t.$implicit;i(),s("ngIf",n.rank!=="genus")}}function De(e,t){if(e&1&&(p(0,"div")(1,"header",2),d(2,Ae,2,0,"span",3),p(3,"span",4),m(4),a(),p(5,"span",5),m(6),a(),g(7,"app-count",6),a(),d(8,Se,4,3,"section",7)(9,Ie,2,1,"section",8),p(10,"section",9),d(11,we,2,1,"div",10),a(),p(12,"section",11),d(13,Ne,2,1,"div",10),a()()),e&2){let n=f();i(),P(n.speciesTree.rank),i(),s("ngIf",n.speciesTree.category=="EX"||n.speciesTree.category=="FO"),i(2),C(n.speciesTree.name),i(2),C(n.speciesTree.englishName),i(),s("speciesTree",n.speciesTree),i(),s("ngIf",n.speciesTree.rank=="Family"&&(n.speciesTree.notes||n.speciesTree.asset||n.speciesTree.picture)),i(),s("ngIf",n.speciesTree.rank!=="Family"&&n.speciesTree.notes),i(2),s("ngForOf",n.speciesTree.children),i(2),s("ngForOf",n.speciesTree.children)}}var pe=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=x({type:t,selectors:[["app-speciestree"]],inputs:{speciesTree:"speciesTree"},decls:2,vars:2,consts:[[1,"speciesview"],[4,"ngIf"],[1,"speciestreeheader"],["class","extinct",4,"ngIf"],[1,"famlatin"],[1,"famenglish"],[3,"speciesTree"],["class","familyBlock",4,"ngIf"],["class","notes",4,"ngIf"],[1,"genuslist"],[4,"ngFor","ngForOf"],[1,"speciestreelist"],[1,"extinct"],[1,"familyBlock"],["class","imageblock",4,"ngIf"],[1,"notes"],[1,"imageblock"],["loading","lazy",3,"src","alt"]],template:function(r,c){r&1&&(p(0,"section",0),d(1,De,14,10,"div",1),a()),r&2&&(q("id",c.speciesTree.name),i(),s("ngIf",c.speciesTree.rank!=="genus"))},dependencies:[t,O,y,N,ae,D],styles:[".speciestreeheader[_ngcontent-%COMP%]{padding:0 .5rem;line-height:1.8em;font-weight:700}.speciestreelist[_ngcontent-%COMP%]{display:flex;flex-direction:column}.Clade[_ngcontent-%COMP%]{background-color:#bfbfbf}.Superorder[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#97a098 30%,#e8dad9 300%)}.Order[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#7e5f62 30%,#c2a5a3 300%)}.Suborder[_ngcontent-%COMP%], .Infraorder[_ngcontent-%COMP%], .Parvorder[_ngcontent-%COMP%], .Superfamily[_ngcontent-%COMP%], .Epifamily[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#7e5f62 30%,#be363a 300%)}.Family[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#be363a 30%,#c2a5a3 300%);box-shadow:0 2px 4px #00000029,0 2px 10px #0000001f!important;position:sticky;top:56px;z-index:99}.Subfamily[_ngcontent-%COMP%]{background-color:#c2a5a3;box-shadow:0 2px 4px #00000029,0 2px 10px #0000001f!important;position:sticky;top:calc(56px + 1.8em);z-index:98}.Tribe[_ngcontent-%COMP%]{background-color:#e8dad9;box-shadow:0 2px 4px #00000029,0 2px 10px #0000001f!important;position:sticky;top:calc(56px + 3.6em);z-index:97}.famlatin[_ngcontent-%COMP%]{font-style:italic}.famenglish[_ngcontent-%COMP%]{padding-left:1rem}.extinct[_ngcontent-%COMP%]{font-style:italic;padding-right:.1rem}.notes[_ngcontent-%COMP%]{margin:1rem}.genuslist[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;padding:1rem 0 0;column-gap:5.5rem}.familyBlock[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;background-color:#eff1ef;border-bottom:solid thick #BE363A}.familyBlock[_ngcontent-%COMP%] > .imageblock[_ngcontent-%COMP%]{margin:1rem 1rem 1rem auto;min-width:320px;min-height:320px;max-width:320px;max-height:320px;display:flex;align-items:center;justify-content:center;mix-blend-mode:multiply}.familyBlock[_ngcontent-%COMP%] > .imageblock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:100%;max-height:100%;width:auto;height:auto;mix-blend-mode:multiply}"]});let e=t;return e})();var le=(()=>{let t=class t{constructor(o){this.http=o,this._url="https://sheets.googleapis.com/v4/spreadsheets/1CTyaVZ-_c5zwPpF35fOniYguCvF4R06IkAk7SR4qfYs/values/Main?alt=json&key=AIzaSyCS8VedcfE96MslUdLY34iSG0GSMdOaWu8",this._species$=null}getSpeciesFromGoogle(){let o={RANK:0,PARENT:2,NAME:3,GENUS:10,SPECIES:12,ENGLISH_NAME:14,DUTCH_NAME:15,CATEGORY:16,AUTHORITY:17,NOTES:18,RANGE_SHORT:19,RANGE_DESCRIPTION:20,PICTURE:21,ASSET:22,EBIRD:23};function r(c,v){for(;c&&c.rank!=="species";)c=v.get(c.parent||"");return c}return this.http.get(this._url).pipe(B(c=>{let v=new Map,M={name:"Aves",rank:"Class"};return v.set(M.name,M),c.values.slice(1).map(function(l){return{rank:l[o.RANK],parent:l[o.PARENT],name:l[o.NAME],genus:l[o.GENUS],species:l[o.SPECIES],englishName:l[o.ENGLISH_NAME],nederlands:l[o.DUTCH_NAME],category:l[o.CATEGORY],authority:l[o.AUTHORITY],notes:l[o.NOTES],rangeShort:l[o.RANGE_SHORT],rangeDescription:l[o.RANGE_DESCRIPTION],picture:l[o.PICTURE],asset:l[o.ASSET],ebirdCode:l[o.EBIRD],children:[],countExtant:0,countExtinct:0,countFossil:0}}).filter(l=>l.category!=="FO").forEach(l=>{v.set(l.name,l);let k=v.get(l.parent);if(l.rank==="ssp"||l.rank==="group (monotypic)"){let w=r(k,v),U=l.rangeDescription?.trim();if(w&&U){let Y=`<i>${l.name}</i> : ${U}`;w.rangeDescription=w.rangeDescription?w.rangeDescription+"<br> "+Y:Y}}k&&(k.children??=[],k.children.push(l))}),this.countChildren(M),M}),X(1))}getSpeciesByMain(o){return this._species$||(this._species$=this.getSpeciesFromGoogle()),this._species$.pipe(B(r=>{let c=this.searchTreeForClade(r,o);if(!c)throw new Error(`Clade with id "${o}" not found`);return c}))}searchTreeForClade(o,r){if(!o)return null;if(o.name===r)return o;if(o.children)for(let c of o.children){let v=this.searchTreeForClade(c,r);if(v)return v}return null}countChildren(o){if(o.countFossil=0,o.countExtinct=0,o.countExtant=0,o.rank=="species")o.category==="FO"?o.countFossil=1:o.category==="EX"?o.countExtinct=1:o.countExtant=1;else for(let r of o.children)this.countChildren(r),o.countFossil+=r.countFossil,o.countExtinct+=r.countExtinct,o.countExtant+=r.countExtant}};t.\u0275fac=function(r){return new(r||t)(j(J))},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Re(e,t){if(e&1&&(p(0,"div",3),g(1,"app-speciestree",4),a()),e&2){let n=t.$implicit;i(),s("speciesTree",n)}}function Ge(e,t){if(e&1&&(p(0,"figure",12),g(1,"img",13),a()),e&2){let n=f().$implicit;i(),s("src",u("https://cdn.download.ams.birds.cornell.edu/api/v1/asset/",n.picNum,"/160"),_)}}function ze(e,t){if(e&1&&(p(0,"div",5)(1,"div",6)(2,"a",7),d(3,Ge,2,2,"figure",8),p(4,"span",9),m(5),a(),p(6,"span",10),m(7),a()()(),g(8,"app-familytree",11),a()),e&2){let n=t.$implicit;i(),P(n.rank),i(),s("routerLink",u("/clade/",n.main))("fragment",Z(n.name)),i(),s("ngIf",n.picNum),i(2),C(n.latin),i(2),C(n.english),i(),s("familyTree",n)}}var Ct=(()=>{let t=class t{constructor(o,r,c){this._speciesservice=o,this._familytreeservice=r,this.route=c}ngOnInit(){this.species$=this.route.paramMap.pipe(R(o=>this._speciesservice.getSpeciesByMain(o.get("id")))),this.partialtree$=this.route.paramMap.pipe(R(o=>this._familytreeservice.getPartialTree(o.get("id"))))}};t.\u0275fac=function(r){return new(r||t)(F(le),F(te),F($))},t.\u0275cmp=x({type:t,selectors:[["app-species"]],decls:5,vars:6,consts:[[1,"speciestree"],["class","speciestreeblock",4,"ngIf"],["class","partialfamilytree",4,"ngIf"],[1,"speciestreeblock"],[3,"speciesTree"],[1,"partialfamilytree"],[1,"treeMenuItem"],[3,"routerLink","fragment"],["class","treeMenuImage",4,"ngIf"],[1,"treeMenuLatin"],[1,"treeMenuEnglish"],[3,"familyTree"],[1,"treeMenuImage"],["loading","lazy",3,"src"]],template:function(r,c){r&1&&(p(0,"section",0),d(1,Re,2,1,"div",1),z(2,"async"),d(3,ze,9,10,"div",2),z(4,"async"),a()),r&2&&(i(),s("ngIf",L(2,2,c.species$)),i(2),s("ngIf",L(4,4,c.partialtree$)))},dependencies:[y,pe,ne,N,ee,K],styles:['.speciesview[_ngcontent-%COMP%]{height:100%;flex-grow:10}.speciestree[_ngcontent-%COMP%]{display:flex}.partialfamilytree[_ngcontent-%COMP%]{width:calc(500px - 2em);right:50px;position:fixed;overflow-y:scroll;height:calc(100% - 58px);padding:0 1em}.speciestreeblock[_ngcontent-%COMP%]{width:calc(100% - 500px)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:active{text-decoration:none;color:#000}.treeMenuItem[_ngcontent-%COMP%]{display:flex;padding:0em 1rem;height:2.25rem}.treeMenuItem[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;height:100%}.treeMenuLatin[_ngcontent-%COMP%]{padding-left:.25rem;padding-right:.25rem;font-style:italic;align-self:center;color:#646464}.treeMenuEnglish[_ngcontent-%COMP%]{padding-left:.25rem;padding-right:.25rem;font-weight:700;align-self:center}.treeMenuItem[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:1rem;left:.75rem;width:.6rem;height:.6rem;border-radius:50%;background:#ddd}']});let e=t;return e})();export{pe as a,Ct as b};
